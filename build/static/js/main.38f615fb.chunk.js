(this["webpackJsonpweb3-challenge"]=this["webpackJsonpweb3-challenge"]||[]).push([[0],{296:function(e,t,n){},298:function(e,t,n){},682:function(e,t){},694:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(47),s=n.n(c),i=(n(296),n(5)),u=n.n(i),o=n(34),p=n(22),l=(n(298),n(299),n(129)),d=n(16),b=n(19),j=n(128),f=Object(j.b)({name:"userInfo",initialState:{address:"",balance:0},reducers:{getAddress:function(e,t){var n=t.payload;e.address=n},getBalance:function(e,t){var n=t.payload;e.balance=n}}}),O=f.actions,v=O.getAddress,h=O.getBalance,x=f.reducer,y=n(79),m=function(){return Object(y.b)()};function g(){var e=m(),t=Object(r.useState)(),n=Object(p.a)(t,2),a=n[0],c=n[1];function s(){return(s=Object(o.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=null===n||void 0===n?void 0:n.getSigner(),t.next=4,null===r||void 0===r?void 0:r.getAddress();case 4:a=t.sent,c(a),e(v(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.ethereum){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,window.ethereum.request({method:"eth_accounts"});case 5:return t=e.sent,e.abrupt("return",t.length>0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return{address:a,getWalletAddress:function(e){return s.apply(this,arguments)},isConnected:function(){return i.apply(this,arguments)}}}var w=n(60),T=y.c,k=n(11);var C=function(){var e,t=T((function(e){return e.userInfo}));return Object(k.jsx)(b.Center,{screen:!0,children:Object(k.jsxs)(b.Segment,{style:{width:300},children:[Object(k.jsx)(b.Header,{children:"Wallet"}),Object(k.jsxs)("p",{children:[Object(k.jsx)("strong",{children:"Wallet: "}),Object(k.jsx)("span",{children:(e=t.address,e.slice(0,5)+"..."+e.slice(38,42))})]}),Object(k.jsxs)("p",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("strong",{children:"Balance:"})," ",t.balance," DUMMY"]}),Object(k.jsx)(l.b,{to:"/transfer",children:"TRANSFER"})]})]})})},S={provider:void 0,updateProvider:function(){}},M=a.a.createContext(S);var F=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(M).updateProvider;function s(){return(s=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,window.ethereum.enable();case 4:t=new w.a.providers.Web3Provider(window.ethereum,"any"),c&&c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(k.jsxs)(b.Center,{children:[Object(k.jsx)(b.Button,{primary:!0,onClick:function(){return s.apply(this,arguments)},children:"Connect"}),n&&Object(k.jsx)(b.Toasts,{position:"top right",children:Object(k.jsx)(b.Toast,{type:b.ToastType.ERROR,title:"Error",body:n,timeout:2,onClose:function(){return a("")},closable:!0})})]})};function P(e,t,n){if(e&&t&&n)return new w.a.Contract(e,t,null===n||void 0===n?void 0:n.getSigner())}var E=n(80);var A=function(){var e=Object(r.useContext)(M),t=g(),n=T((function(e){return e.userInfo})),a=m(),c=Object(r.useState)(!1),s=Object(p.a)(c,2),i=s[0],l=s[1];function d(){return d=Object(o.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.isConnected();case 2:r=n.sent,l(r),r&&(null===e||void 0===e?void 0:e.provider)&&(t.getWalletAddress(e.provider),j());case 5:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function j(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(u.a.mark((function t(){var r,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.address)){t.next=9;break}return t.next=3,P(E.address,E.abi,e.provider);case 3:return r=t.sent,t.next=6,null===r||void 0===r?void 0:r.balanceOf(n.address);case 6:c=t.sent,s=w.a.utils.formatUnits(c,0),a(h(s));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){j()}),[n]),Object(r.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[e.provider]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"Page-story-container",children:[Object(k.jsx)(b.Navbar,{activePage:"marketplace"}),Object(k.jsx)(b.Page,{children:i?Object(k.jsx)(C,{}):Object(k.jsx)(F,{})}),Object(k.jsx)(b.Footer,{})]})})};var B=function(){var e=Object(r.useContext)(M),t=g(),n=Object(r.useState)(),a=Object(p.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)("0"),l=Object(p.a)(i,2),d=l[0],j=l[1],f=Object(r.useState)(!1),O=Object(p.a)(f,2),v=O[0],h=O[1],x=Object(r.useState)(),y=Object(p.a)(x,2),m=y[0],w=y[1],T=Object(r.useState)(!1),C=Object(p.a)(T,2),S=C[0],A=C[1],B=Object(r.useState)(!1),R=Object(p.a)(B,2),I=R[0],N=R[1],W=Object(r.useState)({amount:!1,recipient:!1}),D=Object(p.a)(W,2),J=D[0],U=D[1],H=Object(r.useState)(""),L=Object(p.a)(H,2),Y=L[0],q=L[1];function z(){return z=Object(o.a)(u.a.mark((function n(){var r,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.isConnected();case 2:if(r=n.sent,h(r),!r||!e.provider){n.next=15;break}return n.prev=5,n.next=8,P(E.address,E.abi,e.provider);case 8:a=n.sent,w(a),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),q(n.t0.message);case 15:case"end":return n.stop()}}),n,null,[[5,12]])}))),z.apply(this,arguments)}function $(){return($=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U({amount:!1,recipient:!1}),!m||S){e.next=22;break}if(!c||!d){e.next=21;break}return e.prev=3,A(!0),e.next=7,m.transfer(c,d);case 7:return t=e.sent,e.next=10,t.wait();case 10:n=e.sent,N(1==n.status),A(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),q(e.t0.message),A(!1);case 19:e.next=22;break;case 21:U({amount:!d||0==d.length,recipient:!c||0==c.length});case 22:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){z.apply(this,arguments)}()}),[e.provider]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.Navbar,{activePage:"marketplace"}),Object(k.jsxs)(b.Page,{children:[v?Object(k.jsxs)(b.Modal,{size:"small",open:!0,children:[Object(k.jsx)(b.Modal.Header,{children:"Transfer"}),Object(k.jsxs)(b.Modal.Content,{children:[Object(k.jsx)(b.Field,{name:"amount",label:"Amount",value:d,placeholder:"10 DUMMY",onChange:function(e){return t=e.target.value,void((/^[0-9\b]+$/.test(t)||""==t)&&j(t));var t},error:!d&&J.amount}),Object(k.jsx)(b.Field,{name:"recipient",type:"address",label:"Send to",placeholder:"0x...",onChange:function(e){return s(e.target.value.trim())},error:!c&&J.recipient})]}),Object(k.jsx)(b.Modal.Actions,{children:Object(k.jsx)(b.Button,{primary:!0,onClick:function(){return $.apply(this,arguments)},loading:S,children:"Transfer"})}),I&&Object(k.jsx)(b.Toasts,{position:"top right",children:Object(k.jsx)(b.Toast,{type:b.ToastType.INFO,title:"Success",body:"Succesful transaction",timeout:2,onClose:function(){return N(!1)},closable:!0})})]}):Object(k.jsx)(F,{}),Y&&Object(k.jsx)(b.Toasts,{position:"top right",children:Object(k.jsx)(b.Toast,{type:b.ToastType.ERROR,title:"Error",body:Y,timeout:2,onClose:function(){return q("")},closable:!0})})]}),Object(k.jsx)(b.Footer,{})]})};var R=function(){var e=Object(r.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],c=g(),s=Object(r.useState)(!1),i=Object(p.a)(s,2),b=(i[0],i[1]);function j(){return j=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.isConnected();case 2:t=e.sent,b(t),t&&f();case 5:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function f(){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.enable();case 3:t=new w.a.providers.Web3Provider(window.ethereum,"any"),a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("There was an error when getting provider");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),Object(k.jsx)(M.Provider,{value:{provider:n,updateProvider:function(e){a(e)}},children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{path:"/",element:Object(k.jsx)(A,{})}),Object(k.jsx)(d.a,{path:"/transfer",element:Object(k.jsx)(B,{})})]})})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,737)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},N=Object(j.a)({reducer:{userInfo:x}});s.a.render(Object(k.jsx)(y.a,{store:N,children:Object(k.jsx)(R,{})}),document.getElementById("root")),I()},80:function(e){e.exports=JSON.parse('{"address":"0x36b26F6E2B32188e8bcD6624e8D1Af34f3fd374e","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')}},[[694,1,2]]]);
//# sourceMappingURL=main.38f615fb.chunk.js.map